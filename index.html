<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I'm the Boss! - Board Game</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Setup Screen -->
    <div id="setup-screen" class="screen active">
        <div class="setup-container">
            <h1>üé© I'm the Boss!</h1>
            <p class="tagline">The Classic Negotiation Board Game</p>
            
            <div class="setup-form">
                <label for="player-count">Number of Players:</label>
                <select id="player-count">
                    <option value="3">3 Players</option>
                    <option value="4">4 Players</option>
                    <option value="5" selected>5 Players</option>
                    <option value="6">6 Players</option>
                </select>
                
                <div id="player-names">
                    <!-- Generated by JS -->
                </div>
                
                <button id="start-game" class="btn-primary">Start Game</button>
            </div>
            
            <div class="rules-link">
                <button id="show-rules" class="btn-secondary">üìñ View Rules</button>
            </div>
        </div>
    </div>

    <!-- Rules Modal -->
    <div id="rules-modal" class="modal">
        <div class="modal-content rules-content">
            <span class="close-modal">&times;</span>
            <h2>üìñ Game Rules</h2>
            <div class="rules-text">
                <h3>Objective</h3>
                <p>Amass the most money by closing deals as Boss or participating as an Investor. The player with the highest cash at the end wins!</p>
                
                <h3>Turn Structure</h3>
                <p>On your turn, you can either:</p>
                <ul>
                    <li><strong>Make a Deal</strong> - Attempt to negotiate a deal at the current space</li>
                    <li><strong>Roll the Die</strong> - Move the $ marker and then either make a deal or draw 3 cards</li>
                </ul>
                
                <h3>Making Deals</h3>
                <p>The Boss proposes how to split the pot (Dividends √ó Share Price). Required investors must agree. Use Clan cards to represent colors you don't own.</p>
                
                <h3>Influence Cards</h3>
                <ul>
                    <li><strong>Clan</strong> - Represent an investor color</li>
                    <li><strong>Travel</strong> - Remove an investor from the deal</li>
                    <li><strong>Recruitment (√ó3)</strong> - Steal a placard</li>
                    <li><strong>Boss</strong> - Take over as Boss!</li>
                    <li><strong>Stop</strong> - Cancel Travel/Boss/Recruitment</li>
                </ul>
                
                <h3>End Game</h3>
                <p>After Deal #10, roll the die - if it matches the tile's end numbers, the game ends. Deal #15 auto-ends the game.</p>
            </div>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="game-screen" class="screen">
        <div class="game-layout">
            <!-- Left Panel - Players -->
            <div class="left-panel">
                <h2>Players</h2>
                <div id="players-list">
                    <!-- Generated by JS -->
                </div>
            </div>

            <!-- Center - Board -->
            <div class="center-panel">
                <div class="board-container">
                    <svg id="game-board" viewBox="0 0 600 600">
                        <!-- Board spaces will be generated by JS -->
                    </svg>
                    <div id="board-center">
                        <div class="deal-tile-display">
                            <div class="deal-number">Deal #<span id="current-deal-num">1</span></div>
                            <div class="share-price">$<span id="current-share-price">1</span></div>
                        </div>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div id="action-buttons">
                    <button id="btn-make-deal" class="btn-action" disabled>ü§ù Make a Deal</button>
                    <button id="btn-roll-die" class="btn-action" disabled>üé≤ Roll Die</button>
                    <button id="btn-draw-cards" class="btn-action" disabled>üÉè Draw Cards</button>
                </div>
                
                <!-- Die Result Display -->
                <div id="die-result" class="hidden">
                    <div class="die-face">üé≤ <span id="die-value">-</span></div>
                </div>
            </div>

            <!-- Right Panel - Info & Log -->
            <div class="right-panel">
                <div class="current-turn-info">
                    <h3>Current Turn</h3>
                    <div id="current-player-display">-</div>
                    <div id="turn-phase">Setup</div>
                </div>
                
                <div class="pot-info">
                    <h3>Current Pot</h3>
                    <div id="pot-display">$0</div>
                    <div id="pot-calculation">-</div>
                </div>
                
                <div class="game-log-container">
                    <h3>Game Log</h3>
                    <div id="game-log">
                        <!-- Log entries added by JS -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Player's Hand (Bottom) -->
        <div id="player-hand-area">
            <h3><span id="viewing-player-name">Your</span> Hand (<span id="hand-count">0</span>/12)</h3>
            <div id="player-hand">
                <!-- Cards generated by JS -->
            </div>
        </div>
    </div>

    <!-- Negotiation Modal -->
    <div id="negotiation-modal" class="modal">
        <div class="modal-content negotiation-content">
            <h2>ü§ù Negotiation</h2>
            
            <div class="negotiation-layout">
                <div class="negotiation-left">
                    <div class="deal-info">
                        <div class="pot-amount">Pot: $<span id="neg-pot">0</span></div>
                        <div class="deal-details">
                            <span id="neg-dividends">0</span> dividends √ó $<span id="neg-price">0</span>
                        </div>
                    </div>
                    
                    <div class="required-investors">
                        <h4>Required Investors</h4>
                        <div id="required-list">
                            <!-- Generated by JS -->
                        </div>
                    </div>
                    
                    <div class="boss-info">
                        <h4>Current Boss</h4>
                        <div id="current-boss-display">-</div>
                    </div>
                </div>
                
                <div class="negotiation-right">
                    <div class="offers-section">
                        <h4>Offers</h4>
                        <div id="offers-list">
                            <!-- Generated by JS -->
                        </div>
                        
                        <div class="offer-controls" id="boss-offer-controls">
                            <select id="offer-target">
                                <!-- Players generated by JS -->
                            </select>
                            <input type="number" id="offer-amount" min="0" placeholder="Amount">
                            <button id="btn-make-offer" class="btn-small">Offer</button>
                        </div>
                    </div>
                    
                    <div class="negotiation-actions">
                        <button id="btn-close-deal" class="btn-success" disabled>‚úÖ Close Deal</button>
                        <button id="btn-fail-deal" class="btn-danger">‚ùå Fail Deal</button>
                    </div>
                </div>
            </div>
            
            <div class="played-cards-area">
                <h4>Cards in Play</h4>
                <div id="played-cards">
                    <!-- Cards played during negotiation -->
                </div>
            </div>
            
            <div class="card-play-area">
                <h4>Play a Card</h4>
                <div id="playable-cards">
                    <!-- Playable cards from hand -->
                </div>
            </div>
        </div>
    </div>

    <!-- Card Target Modal -->
    <div id="card-target-modal" class="modal">
        <div class="modal-content small-modal">
            <h3 id="card-target-title">Select Target</h3>
            <div id="card-target-options">
                <!-- Options generated by JS -->
            </div>
            <button id="btn-cancel-card" class="btn-secondary">Cancel</button>
        </div>
    </div>

    <!-- End Game Modal -->
    <div id="end-game-modal" class="modal">
        <div class="modal-content end-game-content">
            <h2>üèÜ Game Over!</h2>
            <div id="final-standings">
                <!-- Generated by JS -->
            </div>
            <button id="btn-new-game" class="btn-primary">New Game</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/data.js"></script>
    <script src="js/cards.js"></script>
    <script src="js/player.js"></script>
    <script src="js/board.js"></script>
    <script src="js/negotiation.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
